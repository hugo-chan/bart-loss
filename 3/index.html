  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
      <title>BUSN 20710: BART</title>
      <link rel="icon" href="../img/blueBalloon.png">

      <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <!-- Include all compiled plugins (below), or include individual files as needed -->

      <!-- Bootstrap -->
      <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

      <!-- Optional theme -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

      <!-- Latest compiled and minified JavaScript -->
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
      <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->


      <!-- personnal script -->


      <script src="../js/script.js" crossorigin="anonymous"></script>
    </head>

    <!-- <body onkeydown="GetKey(event)"> -->
    <body>
      <div id="title" class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4" align="center">
          <h1>The Balloon Game</h1>
          <h3>BUSN 20710: Emily Lin and Hugo Chan</h3>
        </div>
        <!-- <div class="col-md-7"></div> -->
      </div>

      <div id="setup" class="container-fluid">

        <div class="row">
         <div class="col-md-4"></div>

        <!-- TODO : Way to make sure the participant enters it without mistakes -->
          <div class="col-md-4" >
            <br>
            <p id="enterID"> Please enter your 3-digit ID number (123 for testing purposes):</p>

            <div class="input-group">
              <input type="text" class="form-control" placeholder="Your Id ..." id="id_number">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button" id="send_id" onclick="buttonClickedSendID()">Let's Go</button>
              </span>
            </div><!-- /input-group -->
          </div><!-- /.col-lg-6 -->
        </div><!-- /.row -->

      </div>



      <div id="instructions" class="row">

          <div class="col-md-3"></div>
          <div class="col-md-6">

            <p>
            Throughout this game, you will be presented with a total of 8 balloons, one at a time. For each balloon you can click on the button labeled "Pump" to increase the size of the balloon. Your goal is to earn as much money as possible by pumping the balloon until you believe that it may explode.
            </p>
            <p>
            You will gain 5 cents in a temporary, undisplayed bank for each successful pump.
            </p>
            <p>
            At any point, you can click on the button labeled "Collect $$", instead of “Pump”. Clicking this button will bring you to the next balloon and will transfer the accumulated money from your temporary bank to your permanent bank labeled "Total Earned." The amount you earned on the previous balloon is shown in the box labeled "Last Balloon."
            </p>
            <p>
            Be aware that each balloon will explode after a set number of pumps, which is set to a different point for each balloon. In the case that a balloon explodes after too many pumps, all of the money represented in the temporary bank will be lost, and an additional proportional loss of $0.05 per pump will be deducted from the permanent bank labeled “Total Earned”. For instance, for a balloon that explodes after 3 pumps, you would lose $0.15 from the permanent bank. You should always try to avoid exploding the balloon. Upon explosion, you will proceed to the next balloon, if any remains.
            </p>
            <p>
            Your actions in this game will be recorded. Click on the button to proceed.
            </p>

            <div class="input-group">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button" id="start_game" onclick="buttonClickedStartGame()">Next</button>
              </span>
            </div>
        </div>
        <div class="col-md-3"></div>

      </div>

      <br>
      <div id="game" class="row">
        <div class="col-md-4"></div>

        <!-- the game loops -->
        <div id="game_balloon" class="col-md-4">

          <div id="game_total_current_earning" style="font-size: 20px; text-align: center;"></div>
          <!-- <div id="game_money_per_pump"> Earning per pump : <b id="earning_by_pump"></b> $ </div>  -->
          <div id="game_last_balloon_earning" style="font-size: 20px; text-align: center;"></div>
          <div id="game_last_balloon_pumps" style="font-size: 20px; text-align: center;"></div>
          <div id="game_curr_balloon_pumps" style="font-size: 20px; text-align: center;"></div>
          <div id="remaining_balloons" style="font-size: 20px; text-align: center;"></div>
          <br>
          <div class="row ">
            <div class="col-md-4"></div>
            <div class="col-md-4">
              <div class="input-group center-block">
                <span class="input-group-btn">
                  <!-- TODO : Ideally, it would be nice to have the 'space bar' and 'return' keys to do those actions. -->
                  <button class="btn btn-default" style="font-size: 18px;" type="button" onclick="buttonClickedPumpBalloon(3)" >Pump</button>
                  <button class="btn btn-default" style="font-size: 18px;" type="button" onclick="buttonClickedCollectMoney(3)" >Collect $$</button>
                </span>
              </div>
            </div>
            <div class="col-md-4"></div>
          </div>

          <img src="../img/redBalloon.png" alt="Balloon Image" id="img_balloon" style="width:50px;height:50px;" class="center-block">
          <div id="game_balloon_final_earning"></div>

        </div>

        <div id="game_final_screen" class="col-md-4">
          <div id="game_final_earning" style="font-size: 18px;"></div>
          <p style="font-size: 18px;">The password: blue</p>
          <br>
          <div class="input-group">
          <span class="input-group-btn">
            <button class="btn btn-default" type="button" onclick="buttonClickedFinishExperiment(3)" >Finish</button>
          </span>
          </div>
        </div>

      </div>


      <div id="thankYou" class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4">

        <p><h3>Thank you for participating!</h3></p>
        </div>
      </div>

      <!-- Authentication process -->
      <?php
      session_start();
      $csrfToken = md5(uniqid(mt_rand(),true)); // Token generation updated, as suggested by The Rook. Thanks!
      echo $csrfToken;
      $_SESSION['csrfToken'] = $token;
      ?>

      <form action="formHandler.php">
         <input type="hidden" name="csrfKey" value="<?php echo $csrfToken ?>" />
      </form>

    </div>
    </body>
  </html>
